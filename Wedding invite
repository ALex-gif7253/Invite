<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>You're Invited!</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-pink-50 flex flex-col items-center justify-center min-h-screen p-6">

  <!-- Puzzle Animation (Optional) -->
  <div id="puzzle-container" class="relative w-full flex justify-center items-center h-40 mb-8">
    <div id="puzzle-piece1" class="absolute w-24 h-24 bg-yellow-300 border-[10px] border-yellow-500 transition-all duration-1000 ease-in-out" style="top: 20%; left: 20%;"></div>
    <div id="puzzle-piece2" class="absolute w-24 h-24 bg-yellow-300 border-[10px] border-yellow-500 transition-all duration-1000 ease-in-out" style="top: 20%; left: 30%;"></div>
  </div>

  <!-- Wedding Invitation Card -->
  <div class="max-w-xl w-full bg-white rounded-2xl shadow-xl p-8">
    <h1 class="text-3xl font-bold text-center text-pink-600 mb-6">We‚Äôre Getting Married! üíç</h1>

    <p class="text-center text-gray-600 mb-8">
      Join us for our special day on <strong>December 15, 2025</strong><br>
      at <strong>The Grand Venue, New York</strong>.
    </p>

    <!-- RSVP Form -->
    <form id="rsvpForm" class="space-y-4">
      <div>
        <label class="block text-gray-700 font-semibold mb-1" for="name">Your Name</label>
        <input id="name" name="name" type="text" required
          class="w-full border border-pink-300 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-pink-400">
      </div>

      <div>
        <label class="block text-gray-700 font-semibold mb-1" for="guests">Number of Guests</label>
        <input id="guests" name="guests" type="number" min="1" required
          class="w-full border border-pink-300 rounded-xl p-3 focus:outline-none focus:ring-2 focus:ring-pink-400">
      </div>

      <button type="submit"
        class="w-full bg-pink-500 text-white font-semibold py-3 rounded-xl hover:bg-pink-600 transition">
        Confirm RSVP
      </button>

      <p id="responseMessage" class="text-center text-green-600 mt-4 hidden">Thank you for your RSVP! üéâ</p>
    </form>
  </div>

  <!-- Scripts -->
  <script>
    // Animate puzzle pieces after load
    window.addEventListener('load', () => {
      setTimeout(() => {
        document.getElementById('puzzle-piece1').style.transform = 'translate(40%, 0)';
        document.getElementById('puzzle-piece2').style.transform = 'translate(-40%, 0)';
      }, 1000);
    });

    // Handle RSVP form submission
    const form = document.getElementById('rsvpForm');
    const responseMessage = document.getElementById('responseMessage');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const name = document.getElementById('name').value;
      const guests = document.getElementById('guests').value;

      try {
        const response = await fetch('https://script.google.com/macros/s/AKfycbxHP6BxQs48-7-R4kE5wFE2KFIasJ41tvGLD3ZERAqdWf_pLptAaLPVAQY67sLMglGo/exec', {
          method: 'POST',
          mode: 'cors',
          headers: {
            'Content-Type': 'text/plain;charset=UTF-8',
          },
          body: JSON.stringify({ name, guests }),
        });

        if (!response.ok) throw new Error('Network response was not OK');

        responseMessage.classList.remove('hidden');
        responseMessage.textContent = `Thank you, ${name}! Your RSVP is confirmed for ${guests} guest(s). üéâ`;
        form.reset();
      } catch (error) {
        console.error('Error submitting form:', error);
        alert('There was an error submitting your RSVP. Please try again later.');
      }
    });
  </script>

</body>
</html>
